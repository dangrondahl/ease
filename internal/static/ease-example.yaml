version: v1

gitops:
  owner: <owner>
  repo: <repo>

template:
  fromGit:
    url: <repository_url>
    ref: <branch_or_tag>
    path: templates/helmrelease.yaml

common:
  helmRelease:
    namespace: shared-namespace
    chart:
      name: my-chart
      repository: https://charts.my-org.com
      version: 1.0.0
    annotations:
      managedBy: ease
      purpose: shared-configuration
  helmValues:
    replicaCount: 2
    image:
      repository: my-app
      tag: latest

environments:
  dev:
    path: environments/dev
    helmRelease:
      namespace: dev
    helmValues:
      replicaCount: 4

  stage:
    path: environments/stage
    helmRelease:
      namespace: stage
    helmValues:
      replicaCount: 6
